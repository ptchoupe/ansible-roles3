#!/usr/bin/env python
# coding: utf-8
import yaml

# Grab this from source:
# https://www.postgresql.org/download/linux/redhat/
# https://www.postgresql.org/download/js/yum.js?bbdcb170

RPM_dict={"platforms": {"redhat-6": {"f": "redhat", "d": False, "i": "yum", "t": "Red Hat Enterprise Linux 6", "s": 994, "p": "redhat/rhel-6"}, "fedora-28": {"f": "fedora", "d": True, "i": "dnf", "t": "Fedora 28", "s": 3972, "p": "fedora/fedora-28"}, "fedora-27": {"f": "fedora", "d": True, "i": "dnf", "t": "Fedora 27", "s": 3973, "p": "fedora/fedora-27"}, "fedora-29": {"f": "fedora", "d": True, "i": "dnf", "t": "Fedora 29", "s": 3971, "p": "fedora/fedora-29"}, "redhat-5": {"f": "redhat", "d": False, "i": "yum", "t": "Red Hat Enterprise Linux 5", "s": 995, "p": "redhat/rhel-5"}, "centos-6": {"f": "centos", "d": False, "i": "yum", "t": "CentOS 6", "s": 1994, "p": "redhat/rhel-6"}, "oraclelinux-7": {"f": "oraclelinux", "d": True, "i": "yum", "t": "Oracle Enterprise Linux 7", "s": 4993, "p": "redhat/rhel-7"}, "ami201503--6": {"f": "ami201503-", "d": False, "i": "yum", "t": "Amazon Linux AMI201503 6", "s": 5994, "p": "redhat/rhel-6"}, "sl-6": {"f": "sl", "d": False, "i": "yum", "t": "Scientific Linux 6", "s": 2994, "p": "redhat/rhel-6"}, "oraclelinux-6": {"f": "oraclelinux", "d": False, "i": "yum", "t": "Oracle Enterprise Linux 6", "s": 4994, "p": "redhat/rhel-6"}, "sl-5": {"f": "sl", "d": False, "i": "yum", "t": "Scientific Linux 5", "s": 2995, "p": "redhat/rhel-5"}, "redhat-7": {"f": "redhat", "d": True, "i": "yum", "t": "Red Hat Enterprise Linux 7", "s": 993, "p": "redhat/rhel-7"}, "centos-7": {"f": "centos", "d": True, "i": "yum", "t": "CentOS 7", "s": 1993, "p": "redhat/rhel-7"}, "fedora-26": {"f": "fedora", "d": True, "i": "dnf", "t": "Fedora 26", "s": 3974, "p": "fedora/fedora-26"}, "sl-7": {"f": "sl", "d": True, "i": "yum", "t": "Scientific Linux 7", "s": 2993, "p": "redhat/rhel-7"}, "fedora-6": {"f": "fedora", "d": False, "i": "yum", "t": "Fedora 6", "s": 3994, "p": "redhat/rhel-6"}, "centos-5": {"f": "centos", "d": False, "i": "yum", "t": "CentOS 5", "s": 1995, "p": "redhat/rhel-5"}}, "reporpms": {"8.2": {}, "9.1": {"sl-6": {"i386": 8, "x86_64": 8}, "sl-5": {"i386": 8, "x86_64": 8}, "redhat-6": {"i386": 7, "x86_64": 8}, "oraclelinux-6": {"i386": 7, "x86_64": 8}, "redhat-5": {"i386": 8, "x86_64": 8}, "centos-6": {"i386": 6, "x86_64": 7}, "centos-5": {"i386": 6, "x86_64": 6}}, "9.5": {"redhat-6": {"i386": 3, "x86_64": 3}, "fedora-28": {"x86_64": 5}, "centos-7": {"x86_64": 3, "ppc64le": 3}, "fedora-29": {"x86_64": 5}, "fedora-6": {"x86_64": 5}, "centos-6": {"i386": 3, "x86_64": 3}, "oraclelinux-7": {"x86_64": 3}, "sl-6": {"i386": 3, "x86_64": 3}, "redhat-5": {"i386": 3, "x86_64": 3}, "sl-5": {"i386": 3, "x86_64": 3}, "redhat-7": {"x86_64": 3, "ppc64le": 3}, "ami201503--6": {"i386": 3, "x86_64": 3}, "fedora-27": {"x86_64": 5}, "fedora-26": {"x86_64": 5}, "centos-5": {"i386": 3, "x86_64": 3}, "sl-7": {"x86_64": 3}, "oraclelinux-6": {"i386": 3, "x86_64": 3}}, "8.1": {}, "10": {"redhat-6": {"i386": 2, "x86_64": 2}, "fedora-28": {"x86_64": 4}, "centos-7": {"x86_64": 2, "ppc64le": 2}, "fedora-29": {"x86_64": 4}, "fedora-6": {"x86_64": 4}, "centos-6": {"i386": 2, "x86_64": 2}, "fedora-27": {"x86_64": 4}, "sl-6": {"i386": 2, "x86_64": 2}, "oraclelinux-7": {"x86_64": 2, "ppc64le": 2}, "redhat-7": {"x86_64": 2, "ppc64le": 2}, "fedora-26": {"x86_64": 4}, "sl-7": {"x86_64": 2, "ppc64le": 2}, "oraclelinux-6": {"i386": 2, "x86_64": 2}}, "9.0": {"sl-6": {"i386": 6, "x86_64": 6}, "sl-5": {"i386": 6, "x86_64": 6}, "redhat-6": {"i386": 5, "x86_64": 5}, "oraclelinux-6": {"i386": 5, "x86_64": 5}, "redhat-5": {"i386": 5, "x86_64": 5}, "centos-6": {"i386": 5, "x86_64": 5}, "centos-5": {"i386": 5, "x86_64": 5}}, "8.3": {}, "9.6": {"redhat-6": {"i386": 3, "x86_64": 3}, "fedora-28": {"x86_64": 4}, "centos-7": {"x86_64": 3, "ppc64le": 3}, "fedora-29": {"x86_64": 4}, "fedora-6": {"x86_64": 4}, "centos-6": {"i386": 3, "x86_64": 3}, "oraclelinux-7": {"x86_64": 3}, "sl-6": {"i386": 3, "x86_64": 3}, "redhat-7": {"x86_64": 3, "ppc64le": 3}, "ami201503--6": {"i386": 2, "x86_64": 2}, "fedora-27": {"x86_64": 4}, "fedora-26": {"x86_64": 4}, "sl-7": {"x86_64": 3}, "oraclelinux-6": {"i386": 3, "x86_64": 3}}, "8.4": {"sl-6": {"i386": 4, "x86_64": 4}}, "9.4": {"redhat-6": {"i386": 3, "x86_64": 3}, "fedora-28": {"x86_64": 6}, "centos-7": {"x86_64": 3}, "fedora-29": {"x86_64": 6}, "fedora-6": {"x86_64": 6}, "centos-6": {"i386": 3, "x86_64": 3}, "oraclelinux-7": {"x86_64": 3}, "sl-6": {"i386": 3, "x86_64": 3}, "redhat-5": {"i386": 3, "x86_64": 3}, "sl-5": {"i386": 3, "x86_64": 3}, "redhat-7": {"x86_64": 3}, "ami201503--6": {"i386": 3, "x86_64": 3}, "fedora-27": {"x86_64": 6}, "fedora-26": {"x86_64": 6}, "centos-5": {"i386": 3, "x86_64": 3}, "sl-7": {"x86_64": 3}, "oraclelinux-6": {"i386": 3, "x86_64": 3}}, "7.4": {}, "7.3": {}, "9.2": {"redhat-7": {"x86_64": 3}, "sl-6": {"i386": 10, "x86_64": 10}, "sl-5": {"i386": 10, "x86_64": 10}, "redhat-6": {"i386": 9, "x86_64": 9}, "oraclelinux-6": {"i386": 9, "x86_64": 9}, "centos-7": {"x86_64": 3}, "redhat-5": {"i386": 9, "x86_64": 9}, "centos-6": {"i386": 8, "x86_64": 8}, "sl-7": {"x86_64": 3}, "centos-5": {"i386": 8, "x86_64": 8}}, "8.0": {}, "9.3": {"redhat-6": {"i386": 3, "x86_64": 3}, "centos-7": {"x86_64": 3}, "redhat-5": {"i386": 3, "x86_64": 3}, "centos-6": {"i386": 3, "x86_64": 3}, "oraclelinux-7": {"x86_64": 3}, "sl-6": {"i386": 3, "x86_64": 3}, "sl-5": {"i386": 3, "x86_64": 3}, "redhat-7": {"x86_64": 3}, "ami201503--6": {"i386": 3, "x86_64": 3}, "centos-5": {"i386": 3, "x86_64": 3}, "sl-7": {"x86_64": 3}, "oraclelinux-6": {"i386": 3, "x86_64": 3}}, "11": {"redhat-6": {"i386": 2, "x86_64": 2}, "fedora-28": {"x86_64": 2}, "centos-7": {"x86_64": 2, "ppc64le": 2}, "fedora-29": {"x86_64": 2}, "centos-6": {"i386": 2, "x86_64": 2}, "fedora-27": {"x86_64": 2}, "sl-6": {"i386": 2, "x86_64": 2}, "oraclelinux-7": {"x86_64": 2, "ppc64le": 1}, "redhat-7": {"x86_64": 2, "ppc64le": 2}, "fedora-26": {"x86_64": 1}, "sl-7": {"x86_64": 2, "ppc64le": 1}, "oraclelinux-6": {"i386": 2, "x86_64": 2}}}}

# Replace dash (-) by underscore (_)
# https://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html#creating-valid-variable-names

temp = {}
for k in RPM_dict['platforms'].keys():
    temp[k.replace('-','_')] = RPM_dict['platforms'][k]
RPM_dict['platforms'] = temp
del(temp)

for n in RPM_dict['reporpms'].keys():
    temp = {}
    for k in RPM_dict['reporpms'][n].keys():
        temp[k.replace('-','_')] = RPM_dict['reporpms'][n][k]
    RPM_dict['reporpms'][n] = temp
    del(temp)

# Dump to a yaml file
f = open('vars/yum.yml', 'w')
yaml.dump(RPM_dict, f, width=1000)
f.close()
